<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SetupKit Installer - DFA Wizard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <div class="installer-container">
            <header class="installer-header">
                <h1 id="appTitle">SetupKit Installer</h1>
                <p class="version">Version 1.0.0</p>
            </header>

            <div class="installer-content">
                <!-- Dynamic page content managed by DFA -->
                
                <!-- Welcome Page -->
                <div id="page-welcome" class="page">
                    <h2 class="page-title">Welcome to the Installation Wizard</h2>
                    <p class="page-description">This wizard will guide you through the installation process.</p>
                </div>

                <!-- License Page -->
                <div id="page-license" class="page">
                    <h2 class="page-title">License Agreement</h2>
                    <div class="license-section">
                        <p class="page-description">Please read and accept the license agreement to continue.</p>
                        <textarea id="licenseText" readonly class="license-textarea">MIT License...</textarea>
                    </div>
                    <label class="license-checkbox">
                        <input type="checkbox" id="acceptLicense" name="license_accepted">
                        I accept the license agreement
                    </label>
                </div>

                <!-- Components Page -->
                <div id="page-components" class="page">
                    <h2 class="page-title">Select Components</h2>
                    <p class="page-description">Choose which components to install:</p>
                    <div id="componentsList" class="component-list">
                        <!-- Components will be loaded dynamically -->
                    </div>
                </div>

                <!-- Location Page -->
                <div id="page-location" class="page">
                    <h2 class="page-title">Choose Installation Directory</h2>
                    <p class="page-description">Select where you want to install the application:</p>
                    <div class="path-selector">
                        <input type="text" id="installPath" name="install_path" class="path-input" placeholder="C:\\Program Files\\MyApp">
                        <button type="button" id="browsePath" class="btn btn-secondary">Browse...</button>
                    </div>
                </div>

                <!-- Theme Selection Page (Extended Provider) -->
                <div id="page-theme_selection" class="page">
                    <h2 class="page-title">Choose Theme</h2>
                    <p class="page-description">Select your preferred theme:</p>
                    <div class="theme-selector">
                        <select id="themeSelect" name="selected_theme" class="theme-dropdown">
                            <!-- Theme options will be loaded dynamically -->
                        </select>
                    </div>
                </div>

                <!-- Ready Page -->
                <div id="page-ready" class="page">
                    <h2 class="page-title">Ready to Install</h2>
                    <p class="page-description">Review your installation settings:</p>
                    <div id="installSummary" class="install-summary">
                        <!-- Installation summary will be loaded dynamically -->
                    </div>
                </div>

                <!-- Installing Page -->
                <div id="page-installing" class="page">
                    <h2 class="page-title">Installing...</h2>
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="progress-info">
                            <span id="progressPercent">0%</span>
                            <span id="progressText">Preparing installation...</span>
                        </div>
                    </div>
                </div>

                <!-- Complete Page -->
                <div id="page-complete" class="page">
                    <h2 class="page-title">Installation Complete!</h2>
                    <p class="page-description">The application has been successfully installed.</p>
                    <div id="nextSteps" class="next-steps">
                        <!-- Next steps will be loaded dynamically -->
                    </div>
                    <label class="launch-option">
                        <input type="checkbox" id="launchApp" name="launch_app" checked>
                        Launch application after closing installer
                    </label>
                </div>
            </div>

            <!-- Navigation buttons managed by DFA -->
            <footer class="installer-footer">
                <div class="button-group">
                    <button id="btnCancel" class="btn btn-secondary" style="display: none;">Cancel</button>
                    <div class="button-spacer"></div>
                    <button id="btnBack" class="btn btn-secondary" style="display: none;">Back</button>
                    <button id="btnNext" class="btn btn-primary" style="display: none;">Next</button>
                </div>
            </footer>

            <!-- Progress stepper (optional) -->
            <div class="steps" data-current-step="welcome">
                <div class="step" data-step="welcome">Welcome</div>
                <div class="step" data-step="license">License</div>
                <div class="step" data-step="components">Components</div>
                <div class="step" data-step="location">Location</div>
                <div class="step" data-step="ready">Ready</div>
                <div class="step" data-step="installing">Installing</div>
                <div class="step" data-step="complete">Complete</div>
            </div>
        </div>
    </div>

    <!-- Load DFA wizard instead of hardcoded app.js -->
    <script src="wizard-dfa.js"></script>
</body>
</html>